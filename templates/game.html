{% extends "base.html" %}
{% block content %}
<style>
  body { background: #0b0b0b; color: #f5f5f5; }
  .wrap { max-width: 720px; margin: 24px auto; padding: 16px; }
  .top { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
  #turnStatus { font-weight: bold; margin-right: 12px; }
  canvas { display:block; margin:auto; background:#111; border:1px solid #2b2b2b; border-radius:8px; width:480px; height:480px; }
  .legend { display:flex; gap:16px; margin-top:12px; justify-content:center; }
  .dot { display:inline-block; width:12px; height:12px; border-radius:50%; vertical-align:middle; margin-right:6px; }
  .r { background:#ff4d4f; } .b { background:#4da6ff; } .y { background:#ffd43b; }
  .room { opacity:.8; }
</style>

<div class="wrap">
  <div class="top">
    <h2>Shared 4×4 Board</h2>
    <div id="turnStatus"></div>
    <div class="room">Room: <strong id="roomLabel">{{ room_code }}</strong></div>
  </div>

  <canvas id="board" width="480" height="480"></canvas>

  <div class="legend">
    <div><span class="dot r"></span> Player 0 (Red)</div>
    <div><span class="dot b"></span> Player 1 (Blue)</div>
    <div><span class="dot y"></span> Target ★</div>
  </div>
</div>

<script>
  // Pass boot args to the module
  window.GAME_BOOTSTRAP = {
    roomCode: "{{ room_code }}",
    username: "{{ username if username is defined else '' }}"
  };
</script>
<!-- canvas & markup here -->
<script type="module" src="{{ url_for('static', filename='js/pages/gamePage.js') }}"></script>
{% endblock %}
